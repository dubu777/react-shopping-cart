# react-shopping-cart

## 기능 요구 사항

### STEP 1

- [x] /cart-items API를 호출하여 장바구니 상품 데이터를 불러온다.
- [x] 불러온 데이터를 기반으로 Recoil을 사용하여 클라이언트 장바구니 상태를 관리한다.
  - [x] 장바구니 상품의 다양한 상태(장바구니 상품 목록)를 Atom으로 관리한다.
  - [x] 결제 금액, 배송비 등의 파생 상태를 Selector를 통해 계산한다.
  - [x] 개별 상품의 선택 여부, 결제 금액, 배송비 등의 상태를 Recoil로 관리한다.
- [x] 상품 선택에 따른 결제 금액, 배송비 등의 동적인 변경 사항을 처리한다.
  - [x] 결제 금액이 10만원 이상일 경우 배송비는 무료이다.
  - [x] 상품 선택/해제 시 결제 금액을 동적으로 변경한다.
- [x] 장바구니 상품의 수량 변경을 할 수 있다.
- [x] 장바구니에 담긴 상품을 제거할 수 있다.
- [x] 새로고침해도 선택한 상품 상태를 유지해서 보여준다.
- [x] RTL을 사용하여 주요 기능에 대한 테스트 케이스를 작성한다.
  - [x] /cart-items API 호출을 통해 초기 장바구니 데이터를 정상적으로 불러오는지 테스트한다.
  - [x] 상품 선택 기능: 개별 상품의 선택/해제 시 선택 여부가 정상적으로 변경되는지 테스트한다.
  - [x] 결제 금액 계산: 선택된 상품들의 가격 합계가 결제 금액으로 정상 반영되는지 테스트한다.
  - [x] 배송비 계산: 결제 금액에 따라 배송비가 정상적으로 계산되는지 (10만원 이상 무료) 테스트한다.
  - [x] 수량 변경 기능: 상품의 수량을 변경할 때 올바르게 반영되는지 테스트한다.
  - [x] 상품 제거 기능: 장바구니에서 상품을 제거할 때 정상적으로 동작하는지 테스트한다.

### STEP 2

- [x] `/coupons` API를 호출하여 쿠폰 목록을 불러와서 사용한다.
- [x] 4가지 유형의 쿠폰을 사용할 수 있어야 한다.
  - [x] 'FIXED5000' 쿠폰
    - 쿠폰 코드: `FIXED5000`
    - 할인 금액: 5,000원
    - 최소 주문 금액: 100,000원
    - 만료일: 2024년 11월 30일
  - [x] 'BOGO' 쿠폰
    - 구매 수량: 2
    - 무료 제공 수량: 1
    - 만료일: 2024년 5월 30일
    - BOGO 쿠폰은 장바구니에 동일한 제품을 3개를 담은 상태에서 사용하면, 1개 분량의 금액을 할인한다.
    - 3개씩 담은 제품이 여러개인 경우, 1개당 금액이 가장 비싼 제품에 적용한다.
  - [x] 'FREESHIPPING' 쿠폰
    - 쿠폰 코드: `FREESHIPPING`
    - 최소 주문 금액: 50,000원
    - 만료일: 2024년 8월 31일
    - 배송비 무료 쿠폰은 도서 및 산간 지역인 경우에도 무료 배송이 가능하다.
  - [x] 'MIRACLESALE' 쿠폰
    - 쿠폰 코드: `MIRACLESALE`
    - 할인율: 30%
    - 사용 가능 시간: 오전 4시부터 7시까지
    - 만료일: 2024년 7월 31일
- [x] 쿠폰을 적용했을 때 할인 효과를 정확히 계산해야 한다.
- [x] 쿠폰은 한 번에 최대 2개를 사용할 수 있다.
- [x] 2개 쿠폰을 사용하는 경우 적용 순서에 따라 할인 금액이 달라질 수 있다. 최종 금액은 할인 금액이 더 큰 값을 기준으로 계산하여 보여준다.

- [x] '배송지가 제주도 및 도서 산간 지역입니까?'라는 체크박스에 체크를 했다면, 배송비를 3천원 추가한다.
- [x] 쿠폰 코드를 입력하기 위한 모달창은 이전 미션에서 만든 모달 컴포넌트 라이브러리를 직접 사용한다. 필요한 기능이 있다면 추가하여 버전을 업데이트한다.
- [x] 쿠폰 적용에 따른 다양한 시나리오 및 파생 상태에 대한 테스트 케이스를 작성한다.
- [x] 쿠폰 로직과 관련하여 발생하는 파생 상태를 점진적으로 Recoil을 이용하여 관리한다.
